{% extends "base.html" %}
{% block title %}Review Import{% endblock %}
{% block content %}
<div class="page-header">
  <h2>Review Import Data</h2>
</div>

<div class="card">
  <div class="card-header">
    <h3>Preview (showing first 50 of {{ total }} rows)</h3>
    <form method="POST" action="{{ url_for('import_confirm') }}">
      <button type="submit" class="btn btn-primary" onclick="return confirm('Import {{ total }} rows? Duplicates will be skipped.');">
        Confirm Import ({{ total }} rows)
      </button>
    </form>
  </div>

  <div class="table-wrap" style="max-height:600px;overflow-y:auto;">
    <table>
      <thead>
        <tr>
          {% for col in columns %}
          <th>{{ col }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
        <tr>
          {% for col in columns %}
          <td>{{ row.get(col, '') }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="btn-group" style="margin-top:16px;">
  <a href="{{ url_for('import_csv') }}" class="btn btn-secondary">‚Üê Upload Different File</a>
</div>
{% endblock %}
